<head>
    <title>Y Chemistry</title>
    <style>
        button {
            width: 50px;
            height: 35px;
        }
    </style>
 </head>
<body>
    <h3 style="background-color: #6495ed;">Chemistry equation balancing</h3>
    <form action="javascript: ;">
        Equation: <input type="text" id="equation" value="" style="width: 70%; font-size: large; color: cornflowerblue;"></button><br>
        <div style="padding-left: 75px; padding-top: 10px; padding-bottom: 10px;"><table style='border: dashed; background-color: lightcyan;'>
            <tr><td><button id='key' title='Hydrogen: 1' onclick="enter_key('H')">H</button></td><td><button id='key' title=': ' onclick="enter_key('0')">0</button></td><td><button id='key' title=': ' onclick="enter_key('1')">1</button></td><td><button id='key' title=': ' onclick="enter_key('2')">2</button></td><td><button id='key' title=': ' onclick="enter_key('3')">3</button></td><td><button id='key' title=': ' onclick="enter_key('4')">4</button></td><td><button id='key' title=': ' onclick="enter_key('5')">5</button></td><td><button id='key' title=': ' onclick="enter_key('6')">6</button></td><td><button id='key' title=': ' onclick="enter_key('7')">7</button></td><td><button id='key' title=': ' onclick="enter_key('8')">8</button></td><td><button id='key' title=': ' onclick="enter_key('9')">9</button></td><td><button id='key' style="background-color: skyblue; font-size: large;" onclick="enter_key('(')">(</button></td><td><button id='key' style="background-color: skyblue; font-size: large;" onclick="enter_key(')')">)</button></td><td><button id='key' style="background-color: skyblue; font-size: large;" onclick="enter_key('+')">+</button></td><td><button id='key' style="background-color: skyblue; font-size: large;" onclick="enter_key('=')">=</button><td><button id='key' title='Delete one character' onclick="enter_key('Del')" style="background-color: lightgoldenrodyellow">Del</button></td><td><button id='key' title='Clear input' style="background-color: lightsalmon;" onclick="enter_key('AC')">AC</button></td><td><button id='key' title='Helium: 2' onclick="enter_key('He')">He</button></td></tr>
            <tr><td><button id='key' title='Lithium: 3' onclick="enter_key('Li')">Li</button></td><td><button id='key' title='Beryllium: 4' onclick="enter_key('Be')">Be</button></td><td><button disabled></button></td><td><button id='key' title=': ' onclick="enter_key('OH')">OH</button></td><td><button id='key' title=': ' onclick="enter_key('CO3')">CO3</button></td><td><button id='key' title=': ' onclick="enter_key('NO3')">NO3</button></td><td><button id='key' title=': ' onclick="enter_key('SO4')">SO4</button></td><td><button id='key' title=': ' onclick="enter_key('CH')">CH</button></td><td><button id='key' title=': ' onclick="enter_key('O2')">O2</button></td><td><button id='key' title=': ' onclick="enter_key('H2O')">H2O</button></td><td><button id='key' title=': ' onclick="enter_key('CO2')">CO2</button></td><td><button id='key' title="To be used in combining 2 compounds (like CuSO4_5H2O)" style="background-color: skyblue; font-size: large;" onclick="enter_key('_')">_</button></td><td><button id='key' title='Boron: 5' onclick="enter_key('B')">B</button></td><td><button id='key' title='Carbon: 6' onclick="enter_key('C')">C</button></td><td><button id='key' title='Nitrogen: 7' onclick="enter_key('N')">N</button></td><td><button id='key' title='Oxygen: 8' onclick="enter_key('O')">O</button></td><td><button id='key' title='Fluorine: 9' onclick="enter_key('F')">F</button></td><td><button id='key' title='Neon: 10' onclick="enter_key('Ne')">Ne</button></td></tr>
            <tr><td><button id='key' title='Sodium: 11' onclick="enter_key('Na')">Na</button></td><td><button id='key' title='Magnesium: 12' onclick="enter_key('Mg')">Mg</button></td><td><button disabled></button></td><td><button disabled></button></td><td><button disabled></button></td><td><button disabled></button></td><td><button disabled></button></td><td><button disabled></button></td><td><button disabled></button></td><td><button disabled></button></td><td><button disabled></button></td><td><button disabled></button></td><td><button id='key' title='Aluminium: 13' onclick="enter_key('Al')">Al</button></td><td><button id='key' title='Silicon: 14' onclick="enter_key('Si')">Si</button></td><td><button id='key' title='Phosphorus: 15' onclick="enter_key('P')">P</button></td><td><button id='key' title='Sulfur: 16' onclick="enter_key('S')">S</button></td><td><button id='key' title='Chlorine: 17' onclick="enter_key('Cl')">Cl</button></td><td><button id='key' title='Argon: 18' onclick="enter_key('Ar')">Ar</button></td></tr>
            <tr><td><button id='key' title='Potassium: 19' onclick="enter_key('K')">K</button></td><td><button id='key' title='Calcium: 20' onclick="enter_key('Ca')">Ca</button></td><td><button id='key' title='Scandium: 21' onclick="enter_key('Sc')">Sc</button></td><td><button id='key' title='Titanium: 22' onclick="enter_key('Ti')">Ti</button></td><td><button id='key' title='Vanadium: 23' onclick="enter_key('V')">V</button></td><td><button id='key' title='Chromium: 24' onclick="enter_key('Cr')">Cr</button></td><td><button id='key' title='Manganese: 25' onclick="enter_key('Mn')">Mn</button></td><td><button id='key' title='Iron: 26' onclick="enter_key('Fe')">Fe</button></td><td><button id='key' title='Cobalt: 27' onclick="enter_key('Co')">Co</button></td><td><button id='key' title='Nickel: 28' onclick="enter_key('Ni')">Ni</button></td><td><button id='key' title='Copper: 29' onclick="enter_key('Cu')">Cu</button></td><td><button id='key' title='Zinc: 30' onclick="enter_key('Zn')">Zn</button></td><td><button id='key' title='Gallium: 31' onclick="enter_key('Ga')">Ga</button></td><td><button id='key' title='Germanium: 32' onclick="enter_key('Ge')">Ge</button></td><td><button id='key' title='Arsenic: 33' onclick="enter_key('As')">As</button></td><td><button id='key' title='Selenium: 34' onclick="enter_key('Se')">Se</button></td><td><button id='key' title='Bromine: 35' onclick="enter_key('Br')">Br</button></td><td><button id='key' title='Krypton: 36' onclick="enter_key('Kr')">Kr</button></td></tr>
            <tr><td><button id='key' title='Rubidium: 37' onclick="enter_key('Rb')">Rb</button></td><td><button id='key' title='Strontium: 38' onclick="enter_key('Sr')">Sr</button></td><td><button id='key' title='Yttrium: 39' onclick="enter_key('Y')">Y</button></td><td><button id='key' title='Zirconium: 40' onclick="enter_key('Zr')">Zr</button></td><td><button id='key' title='Niobium: 41' onclick="enter_key('Nb')">Nb</button></td><td><button id='key' title='Molybdenum: 42' onclick="enter_key('Mo')">Mo</button></td><td><button id='key' title='Technetium: 43' onclick="enter_key('Tc')">Tc</button></td><td><button id='key' title='Ruthenium: 44' onclick="enter_key('Ru')">Ru</button></td><td><button id='key' title='Rhodium: 45' onclick="enter_key('Rh')">Rh</button></td><td><button id='key' title='Palladium: 46' onclick="enter_key('Pd')">Pd</button></td><td><button id='key' title='Silver: 47' onclick="enter_key('Ag')">Ag</button></td><td><button id='key' title='Cadmium: 48' onclick="enter_key('Cd')">Cd</button></td><td><button id='key' title='Indium: 49' onclick="enter_key('In')">In</button></td><td><button id='key' title='Tin: 50' onclick="enter_key('Sn')">Sn</button></td><td><button id='key' title='Antimony: 51' onclick="enter_key('Sb')">Sb</button></td><td><button id='key' title='Tellurium: 52' onclick="enter_key('Te')">Te</button></td><td><button id='key' title='Iodine: 53' onclick="enter_key('I')">I</button></td><td><button id='key' title='Xenon: 54' onclick="enter_key('Xe')">Xe</button></td></tr>
            <tr><td><button id='key' title='Caesium: 55' onclick="enter_key('Cs')">Cs</button></td><td><button id='key' title='Barium: 56' onclick="enter_key('Ba')">Ba</button></td><td><button disabled>[La]</button></td><td><button id='key' title='Hafnium: 72' onclick="enter_key('Hf')">Hf</button></td><td><button id='key' title='Tantalum: 73' onclick="enter_key('Ta')">Ta</button></td><td><button id='key' title='Tungsten: 74' onclick="enter_key('W')">W</button></td><td><button id='key' title='Rhenium: 75' onclick="enter_key('Re')">Re</button></td><td><button id='key' title='Osmium: 76' onclick="enter_key('Os')">Os</button></td><td><button id='key' title='Iridium: 77' onclick="enter_key('Ir')">Ir</button></td><td><button id='key' title='Platinum: 78' onclick="enter_key('Pt')">Pt</button></td><td><button id='key' title='Gold: 79' onclick="enter_key('Au')">Au</button></td><td><button id='key' title='Mercury: 80' onclick="enter_key('Hg')">Hg</button></td><td><button id='key' title='Thallium: 81' onclick="enter_key('Tl')">Tl</button></td><td><button id='key' title='Lead: 82' onclick="enter_key('Pb')">Pb</button></td><td><button id='key' title='Bismuth: 83' onclick="enter_key('Bi')">Bi</button></td><td><button id='key' title='Polonium: 84' onclick="enter_key('Po')">Po</button></td><td><button id='key' title='Astatine: 85' onclick="enter_key('At')">At</button></td><td><button id='key' title='Radon: 86' onclick="enter_key('Rn')">Rn</button></td></tr>
            <tr><td><button id='key' title='Francium: 87' onclick="enter_key('Fr')">Fr</button></td><td><button id='key' title='Radium: 88' onclick="enter_key('Ra')">Ra</button></td><td><button disabled>[Ac]</button></td><td><button id='key' title='Rutherfordium: 104' onclick="enter_key('Rf')">Rf</button></td><td><button id='key' title='Dubnium: 105' onclick="enter_key('Db')">Db</button></td><td><button id='key' title='Seaborgium: 106' onclick="enter_key('Sg')">Sg</button></td><td><button id='key' title='Bohrium: 107' onclick="enter_key('Bh')">Bh</button></td><td><button id='key' title='Hassium: 108' onclick="enter_key('Hs')">Hs</button></td><td><button id='key' title='Meitnerium: 109' onclick="enter_key('Mt')">Mt</button></td><td><button id='key' title='Darmstadtium: 110' onclick="enter_key('Ds')">Ds</button></td><td><button id='key' title='Roentgenium: 111' onclick="enter_key('Rg')">Rg</button></td><td><button id='key' title='Copernicium: 112' onclick="enter_key('Cn')">Cn</button></td><td><button id='key' title='Nihonium: 113' onclick="enter_key('Nh')">Nh</button></td><td><button id='key' title='Flerovium: 114' onclick="enter_key('Fl')">Fl</button></td><td><button id='key' title='Moscovium: 115' onclick="enter_key('Mc')">Mc</button></td><td><button id='key' title='Livermorium: 116' onclick="enter_key('Lv')">Lv</button></td><td><button id='key' title='Tennessine: 117' onclick="enter_key('Ts')">Ts</button></td><td><button id='key' title='Oganesson: 118' onclick="enter_key('Og')">Og</button></td></tr>
            <tr><td><button disabled></button></td><td><button disabled></button></td><td><button disabled></button></td><td><button id='key' title='Lanthanum: 57' onclick="enter_key('La')">La</button></td><td><button id='key' title='Cerium: 58' onclick="enter_key('Ce')">Ce</button></td><td><button id='key' title='Praseodymium: 59' onclick="enter_key('Pr')">Pr</button></td><td><button id='key' title='Neodymium: 60' onclick="enter_key('Nd')">Nd</button></td><td><button id='key' title='Promethium: 61' onclick="enter_key('Pm')">Pm</button></td><td><button id='key' title='Samarium: 62' onclick="enter_key('Sm')">Sm</button></td><td><button id='key' title='Europium: 63' onclick="enter_key('Eu')">Eu</button></td><td><button id='key' title='Gadolinium: 64' onclick="enter_key('Gd')">Gd</button></td><td><button id='key' title='Terbium: 65' onclick="enter_key('Tb')">Tb</button></td><td><button id='key' title='Dysprosium: 66' onclick="enter_key('Dy')">Dy</button></td><td><button id='key' title='Holmium: 67' onclick="enter_key('Ho')">Ho</button></td><td><button id='key' title='Erbium: 68' onclick="enter_key('Er')">Er</button></td><td><button id='key' title='Thulium: 69' onclick="enter_key('Tm')">Tm</button></td><td><button id='key' title='Ytterbium: 70' onclick="enter_key('Yb')">Yb</button></td><td><button id='key' title='Lutetium: 71' onclick="enter_key('Lu')">Lu</button></td></tr>
            <tr><td><button disabled></button></td><td><button disabled></button></td><td><button disabled></button></td><td><button id='key' title='Actinium: 89' onclick="enter_key('Ac')">Ac</button></td><td><button id='key' title='Thorium: 90' onclick="enter_key('Th')">Th</button></td><td><button id='key' title='Protactinium: 91' onclick="enter_key('Pa')">Pa</button></td><td><button id='key' title='Uranium: 92' onclick="enter_key('U')">U</button></td><td><button id='key' title='Neptunium: 93' onclick="enter_key('Np')">Np</button></td><td><button id='key' title='Plutonium: 94' onclick="enter_key('Pu')">Pu</button></td><td><button id='key' title='Americium: 95' onclick="enter_key('Am')">Am</button></td><td><button id='key' title='Curium: 96' onclick="enter_key('Cm')">Cm</button></td><td><button id='key' title='Berkelium: 97' onclick="enter_key('Bk')">Bk</button></td><td><button id='key' title='Californium: 98' onclick="enter_key('Cf')">Cf</button></td><td><button id='key' title='Einsteinium: 99' onclick="enter_key('Es')">Es</button></td><td><button id='key' title='Fermium: 100' onclick="enter_key('Fm')">Fm</button></td><td><button id='key' title='Mendelevium: 101' onclick="enter_key('Md')">Md</button></td><td><button id='key' title='Nobelium: 102' onclick="enter_key('No')">No</button></td><td><button id='key' title='Lawrencium: 103' onclick="enter_key('Lr')">Lr</button></td></tr>
        </table></div> <button type="submit" value="fill" 
        onclick="calculate()" style="width: 150;">Balance equation >></button> [ <b id="res"></b> ]
    </form>
    
    <script>
        function enter_key(k) {
            if (k == "Del") {
                document.getElementById("equation").value = document.getElementById("equation").value.slice(0,-1);
            } else if (k == "AC") {
                document.getElementById("equation").value = "";
            } else {
                document.getElementById("equation").value += k;
            }
        } 
        function eq_separate(eqtext) {
            let end = false;
            let l = 0;
            for (i = 0; i < eqtext.length; i++) {
                if (! end) {
                    if (eqtext[i].match("^[0-9a-zA-Z]$") ||  "[({})]+_ ".includes(eqtext[i]))
                        continue;
                    end = true;
                    l = i;
                } else if (! eqtext[i].match("^[0-9a-zA-Z]$") && ! "[({})]+_ ".includes(eqtext[i])) {
                    continue
                } else {
                    return [eqtext.slice(0,l), eqtext.slice(i)]
                }
                
            }
            return [eqtext, ""]
        }
        function calculate() {
            try {
                document.getElementById("res").innerHTML = eq_separate(document.getElementById("equation").value);
            } catch(err) {
                alert("Debugger[ "+err+" ]");
            }
        }
    </script>
</body>
